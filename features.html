<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>功能介绍 - AntSK PyAPI</title>
    
    <!-- SEO 元标签 -->
    <meta name="description" content="AntSK PyAPI功能介绍：文本嵌入向量生成、文档重排序、支持的模型、配置说明等详细功能说明。">
    <meta name="keywords" content="AntSK,PyAPI,功能介绍,文本嵌入,向量生成,文档重排序,模型支持">
    <meta name="author" content="AntSK Team">
    
    <!-- 预加载关键资源 -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary-color: #667eea;
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --secondary-color: #f8f9ff;
            --accent-color: #7F7FFF;
            --text-color: #333;
            --text-light: #666;
            --background: #ffffff;
            --surface: rgba(255, 255, 255, 0.95);
            --border: #e0e6ff;
            --shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 25px 50px rgba(102, 126, 234, 0.15);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background: linear-gradient(135deg, #f8f9ff 0%, #e6f3ff 50%, #f0f4ff 100%);
            min-height: 100vh;
        }

        /* 导航栏 */
        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--border);
            z-index: 1000;
            padding: 1rem 0;
        }

        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary-color);
            text-decoration: none;
        }

        .nav-links {
            display: flex;
            gap: 2rem;
            list-style: none;
        }

        .nav-links a {
            color: var(--text-color);
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s ease;
        }

        .nav-links a:hover {
            color: var(--primary-color);
        }

        .nav-links a.active {
            color: var(--primary-color);
            font-weight: 600;
        }

        .cta-button {
            background: var(--primary-gradient);
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 25px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .cta-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 25px rgba(102, 126, 234, 0.4);
        }

        /* 主要内容区域 */
        .main-content {
            padding-top: 100px;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        .page-header {
            text-align: center;
            margin-bottom: 3rem;
        }

        .page-title {
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 1rem;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .page-subtitle {
            font-size: 1.2rem;
            color: var(--text-light);
            max-width: 600px;
            margin: 0 auto;
        }

        /* 卡片样式 */
        .card {
            background: var(--surface);
            border-radius: 20px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
        }

        .card h2 {
            font-size: 1.8rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
            color: var(--text-color);
        }

        /* 功能特色网格 */
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }

        .feature-card {
            background: var(--surface);
            padding: 2rem;
            border-radius: 20px;
            box-shadow: var(--shadow);
            text-align: center;
            transition: all 0.3s ease;
            border: 1px solid var(--border);
        }

        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
        }

        .feature-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
        }

        .feature-title {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: var(--text-color);
        }

        .feature-description {
            color: var(--text-light);
            line-height: 1.6;
        }

        /* 模型网格 */
        .model-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-top: 1.5rem;
        }

        .model-card {
            background: linear-gradient(135deg, #f8f9ff 0%, #e6f3ff 100%);
            padding: 1.5rem;
            border-radius: 15px;
            border: 1px solid var(--border);
            transition: all 0.3s ease;
        }

        .model-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.15);
        }

        .model-card h4 {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: var(--primary-color);
        }

        .model-card p {
            color: var(--text-light);
            font-size: 0.9rem;
        }

        /* 配置表格 */
        .config-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1rem;
        }

        .config-table th,
        .config-table td {
            padding: 1rem;
            text-align: left;
            border-bottom: 1px solid var(--border);
        }

        .config-table th {
            background: var(--secondary-color);
            font-weight: 600;
            color: var(--text-color);
        }

        .config-table code {
            background: #f1f5f9;
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            color: var(--primary-color);
        }

        /* API演示样式 */
        .api-demo {
            margin: 2rem 0;
        }

        .api-demo h3 {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: var(--text-color);
        }

        .endpoint {
            display: inline-block;
            background: var(--surface);
            padding: 1rem 1.5rem;
            border-radius: 10px;
            border: 1px solid var(--border);
            margin: 0.5rem 0;
            transition: all 0.3s ease;
        }

        .endpoint:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.15);
        }

        .method {
            background: var(--primary-gradient);
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: 600;
            margin-right: 0.75rem;
        }

        .loading {
            color: var(--text-light);
            font-style: italic;
        }

        .test-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 1.5rem;
            margin-top: 1.5rem;
        }

        .test-card {
            background: var(--surface);
            border-radius: 16px;
            padding: 1.5rem;
            border: 1px solid var(--border);
            box-shadow: var(--shadow);
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .test-card h4 {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--primary-color);
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .form-group label {
            font-size: 0.95rem;
            font-weight: 600;
            color: var(--text-color);
        }

        .form-input,
        .form-textarea,
        .form-select {
            padding: 0.75rem 1rem;
            border-radius: 10px;
            border: 1px solid var(--border);
            background: #ffffff;
            font-size: 0.95rem;
            color: var(--text-color);
            transition: border-color 0.2s ease, box-shadow 0.2s ease;
        }

        .form-input:focus,
        .form-textarea:focus,
        .form-select:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.2);
        }

        .form-textarea {
            min-height: 140px;
            resize: vertical;
        }

        .form-hint {
            font-size: 0.85rem;
            color: var(--text-light);
        }

        .form-checkbox {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.9rem;
            color: var(--text-light);
            cursor: pointer;
            user-select: none;
        }

        .form-checkbox input {
            width: 16px;
            height: 16px;
        }

        .run-button {
            align-self: flex-start;
            background: var(--primary-gradient);
            color: #ffffff;
            border: none;
            border-radius: 999px;
            padding: 0.75rem 1.75rem;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            box-shadow: 0 15px 30px rgba(102, 126, 234, 0.2);
        }

        .run-button:hover:not([disabled]) {
            transform: translateY(-2px);
            box-shadow: 0 20px 40px rgba(102, 126, 234, 0.25);
        }

        .run-button[disabled] {
            opacity: 0.7;
            cursor: not-allowed;
            box-shadow: none;
        }

        .result-box {
            background: #0f172a;
            color: #e2e8f0;
            font-family: 'Fira Code', 'Courier New', monospace;
            border-radius: 12px;
            padding: 1rem;
            max-height: 240px;
            overflow-y: auto;
            white-space: pre-wrap;
            word-break: break-word;
        }

        /* 响应式设计 */
        @media (max-width: 768px) {
            .nav-container {
                padding: 0 1rem;
            }

            .nav-links {
                display: none;
            }

            .container {
                padding: 1rem;
            }

            .page-title {
                font-size: 2rem;
            }

            .card {
                padding: 1.5rem;
            }

            .test-grid {
                grid-template-columns: 1fr;
            }

            .result-box {
                max-height: 320px;
            }
        }

        /* 平滑滚动 */
        html {
            scroll-behavior: smooth;
        }
    </style>
</head>
<body>
    <!-- 导航栏 -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="index.html" class="logo">
                <span class="logo-icon">🐜</span>
                <span class="logo-text">AntSK PyAPI</span>
            </a>
            <ul class="nav-links">
                <li><a href="/">首页</a></li>
                <li><a href="features.html" class="active">功能介绍</a></li>
                <li><a href="/#how-it-works">使用流程</a></li>
                <li><a href="/#advantages">产品优势</a></li>
                <li><a href="https://github.com/xuzeyu91/AntSK-PyApi" target="_blank">GitHub</a></li>
            </ul>
            <a href="http://localhost:8000/docs" class="cta-button">API文档</a>
        </div>
    </nav>

    <!-- 主要内容 -->
    <main class="main-content">
        <div class="container">
            <!-- 页面标题 -->
            <div class="page-header">
                <h1 class="page-title">功能介绍</h1>
                <p class="page-subtitle">详细了解AntSK PyAPI的核心功能、支持的模型和配置选项</p>
            </div>

            <!-- 核心功能特色 -->
            <div class="card">
                <h2>🚀 核心功能特色</h2>
                <p style="color: var(--text-light); margin-bottom: 2rem;">强大的文本嵌入向量生成和文档重排序能力，为AI应用提供高性能支持</p>
                
                <div class="features-grid">
                    <div class="feature-card">
                        <div class="feature-icon">🔤</div>
                        <h3 class="feature-title">文本嵌入向量生成</h3>
                        <p class="feature-description">支持多种BGE系列embedding模型，生成高质量的文本向量表示</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">📊</div>
                        <h3 class="feature-title">文档重排序</h3>
                        <p class="feature-description">基于先进的rerank模型，对文档进行智能重排序，提升检索精度</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">🔌</div>
                        <h3 class="feature-title">OpenAI兼容API</h3>
                        <p class="feature-description">完全兼容OpenAI API格式，无缝集成到现有应用中</p>
                    </div>
                </div>
            </div>

            <div class="card">
                <div class="api-demo">
                    <h3>🧪 在线测试</h3>
                    <p class="form-hint">无需额外工具，直接调用 API 体验文本向量生成与文档重排序能力。</p>
                    <div class="test-grid">
                        <div class="test-card">
                            <h4>文本嵌入测试</h4>
                            <form id="embedding-form" class="test-form">
                                <div class="form-group">
                                    <label for="embedding-model">选择模型</label>
                                    <select id="embedding-model" class="form-select">
                                        <option value="BAAI/bge-m3">BAAI/bge-m3（多语言推荐）</option>
                                        <option value="BAAI/bge-en-icl">BAAI/bge-en-icl</option>
                                        <option value="BAAI/bge-multilingual-gemma2">BAAI/bge-multilingual-gemma2</option>
                                        <option value="BAAI/llm-embedder">BAAI/llm-embedder</option>
                                        <option value="BAAI/bge-large-en-v1.5">BAAI/bge-large-en-v1.5</option>
                                        <option value="BAAI/bge-base-en-v1.5">BAAI/bge-base-en-v1.5</option>
                                        <option value="BAAI/bge-small-en-v1.5">BAAI/bge-small-en-v1.5</option>
                                        <option value="BAAI/bge-large-zh-v1.5">BAAI/bge-large-zh-v1.5</option>
                                        <option value="BAAI/bge-base-zh-v1.5">BAAI/bge-base-zh-v1.5</option>
                                        <option value="BAAI/bge-small-zh-v1.5">BAAI/bge-small-zh-v1.5</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="embedding-input">输入文本（每行一个样本）</label>
                                    <textarea id="embedding-input" class="form-textarea" placeholder="请输入需要生成向量的文本">AntSK PyAPI 提供高性能中文向量服务
AntSK 生态为企业提供端到端大模型能力</textarea>
                                    <span class="form-hint">支持批量输入，将自动拆分为多条记录。</span>
                                </div>
                                <div class="form-group">
                                    <label for="embedding-format">编码格式</label>
                                    <select id="embedding-format" class="form-select">
                                        <option value="float" selected>float（默认，便于调试）</option>
                                        <option value="base64">base64（更小的传输体积）</option>
                                    </select>
                                </div>
                                <button type="submit" class="run-button">生成向量</button>
                                <pre class="result-box" id="embedding-result">等待测试...</pre>
                            </form>
                        </div>

                        <div class="test-card">
                            <h4>文档重排序测试</h4>
                            <form id="rerank-form" class="test-form">
                                <div class="form-group">
                                    <label for="rerank-model">选择模型</label>
                                    <select id="rerank-model" class="form-select">
                                        <option value="BAAI/bge-reranker-v2.5-gemma2-lightweight">BAAI/bge-reranker-v2.5-gemma2-lightweight</option>
                                        <option value="BAAI/bge-reranker-v2-gemma">BAAI/bge-reranker-v2-gemma</option>
                                        <option value="BAAI/bge-reranker-v2-minicpm-layerwise">BAAI/bge-reranker-v2-minicpm-layerwise</option>
                                        <option value="BAAI/bge-reranker-v2-m3">BAAI/bge-reranker-v2-m3</option>
                                        <option value="BAAI/bge-reranker-base">BAAI/bge-reranker-base</option>
                                        <option value="BAAI/bge-reranker-large">BAAI/bge-reranker-large</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="rerank-query">查询语句</label>
                                    <input id="rerank-query" class="form-input" type="text" value="AntSK PyAPI 支持哪些模型？" placeholder="请输入查询内容">
                                </div>
                                <div class="form-group">
                                    <label for="rerank-docs">候选文档（每行一个）</label>
                                    <textarea id="rerank-docs" class="form-textarea">AntSK PyAPI 支持 FlagEmbedding 系列的 embedding 和 rerank 模型。
平台提供 OpenAI 兼容接口，便于快速集成。
服务提供健康检查、模型列表和配置查看等管理能力。</textarea>
                                    <span class="form-hint">系统将自动计算查询与每条文档的相关度分数。</span>
                                </div>
                                <div class="form-group">
                                    <label for="rerank-topn">返回结果数量（可选）</label>
                                    <input id="rerank-topn" class="form-input" type="number" min="1" placeholder="默认返回全部结果">
                                </div>
                                <label class="form-checkbox">
                                    <input id="rerank-return-docs" type="checkbox">
                                    <span>返回文档原文</span>
                                </label>
                                <button type="submit" class="run-button">开始重排序</button>
                                <pre class="result-box" id="rerank-result">等待测试...</pre>
                            </form>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 支持的模型 -->
            <div class="card">
                <h2>🤖 支持的模型</h2>
                
                <h3 style="margin-top: 30px; color: #4a5568;">Embedding模型</h3>
                <p style="color: var(--text-light); margin-bottom: 1rem;">全面支持FlagEmbedding最新官方模型，覆盖多语言、多模态与大模型检索场景。</p>
                <div class="model-grid">
                    <div class="model-card">
                        <h4>BAAI/bge-m3</h4>
                        <p>多功能、多语言、多粒度检索模型，支持8192 token长文本。</p>
                    </div>
                    <div class="model-card">
                        <h4>BAAI/bge-en-icl</h4>
                        <p>具备少样本学习能力的英文模型，强化复杂查询表达。</p>
                    </div>
                    <div class="model-card">
                        <h4>BAAI/bge-multilingual-gemma2</h4>
                        <p>基于Gemma2的多语言LLM级向量模型，适配全球场景。</p>
                    </div>
                    <div class="model-card">
                        <h4>BAAI/llm-embedder</h4>
                        <p>面向大模型RAG的统一向量模型，覆盖多种检索增强需求。</p>
                    </div>
                    <div class="model-card">
                        <h4>BAAI/bge-large-en-v1.5</h4>
                        <p>英文旗舰模型，具有更平滑的相似度分布。</p>
                    </div>
                    <div class="model-card">
                        <h4>BAAI/bge-base-en-v1.5</h4>
                        <p>英文基础模型，兼顾性能与部署成本。</p>
                    </div>
                    <div class="model-card">
                        <h4>BAAI/bge-large-zh-v1.5</h4>
                        <p>中文旗舰模型，适合企业级中文知识库检索。</p>
                    </div>
                    <div class="model-card">
                        <h4>BAAI/bge-base-zh-v1.5</h4>
                        <p>中文通用模型，支持高质量向量生成。</p>
                    </div>
                </div>

                <h3 style="margin-top: 30px; color: #4a5568;">Rerank模型</h3>
                <p style="color: var(--text-light); margin-bottom: 1rem;">提供轻量高效到大型精确的多层级交叉编码器，满足不同精度与性能需求。</p>
                <div class="model-grid">
                    <div class="model-card">
                        <h4>BAAI/bge-reranker-v2.5-gemma2-lightweight</h4>
                        <p>Gemma2轻量版，多语言支持且可配置压缩策略。</p>
                    </div>
                    <div class="model-card">
                        <h4>BAAI/bge-reranker-v2-gemma</h4>
                        <p>基于Gemma的跨语言重排模型，兼顾性能与覆盖面。</p>
                    </div>
                    <div class="model-card">
                        <h4>BAAI/bge-reranker-v2-minicpm-layerwise</h4>
                        <p>支持按层输出以加速推理的多语言模型。</p>
                    </div>
                    <div class="model-card">
                        <h4>BAAI/bge-reranker-v2-m3</h4>
                        <p>官方推荐多语言重排序模型，部署便捷推理快速。</p>
                    </div>
                    <div class="model-card">
                        <h4>BAAI/bge-reranker-large</h4>
                        <p>高精度中英模型，用于要求最优结果的场景。</p>
                    </div>
                    <div class="model-card">
                        <h4>BAAI/bge-reranker-base</h4>
                        <p>中英通用模型，兼顾效果与资源消耗。</p>
                    </div>
                </div>
            </div>

            <!-- 配置说明 -->
            <div class="card">
                <h2>⚙️ 配置说明</h2>
                <table class="config-table">
                    <thead>
                        <tr>
                            <th>环境变量</th>
                            <th>默认值</th>
                            <th>说明</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>MODEL_STORAGE_PATH</code></td>
                            <td>D:\git\AntSK\model</td>
                            <td>模型存储路径</td>
                        </tr>
                        <tr>
                            <td><code>API_HOST</code></td>
                            <td>0.0.0.0</td>
                            <td>API服务监听地址</td>
                        </tr>
                        <tr>
                            <td><code>API_PORT</code></td>
                            <td>8000</td>
                            <td>API服务端口</td>
                        </tr>
                        <tr>
                            <td><code>LOG_LEVEL</code></td>
                            <td>INFO</td>
                            <td>日志级别</td>
                        </tr>
                        <tr>
                            <td><code>USE_FP16</code></td>
                            <td>true</td>
                            <td>是否使用FP16精度（节省内存）</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- 关于 AntSK -->
            <div class="card">
                <h2>🏢 关于 AntSK</h2>
                <div style="text-align: center; margin-bottom: 30px;">
                    <a href="https://antsk.cn" target="_blank" style="display: inline-block; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 15px 30px; border-radius: 25px; text-decoration: none; font-size: 1.2rem; font-weight: bold; margin: 10px; transition: transform 0.3s ease;" onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
                        🌐 访问 AntSK 官网
                    </a>
                    <a href="https://github.com/xuzeyu91/AntSK-PyApi" target="_blank" style="display: inline-block; background: linear-gradient(135deg, #24292e 0%, #1a1e22 100%); color: white; padding: 15px 30px; border-radius: 25px; text-decoration: none; font-size: 1.2rem; font-weight: bold; margin: 10px; transition: transform 0.3s ease;" onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
                        ⭐ GitHub 源码
                    </a>
                </div>
                
                <div class="features-grid">
                    <div class="feature-card">
                        <h3>🚀 AntSK 企业级AI解决方案</h3>
                        <p>AntSK 是基于大模型技术的一体化AI解决方案，提供精准知识检索、持续学习能力和流畅的智能交互体验，助力企业打造专属AI一体机。</p>
                    </div>
                    <div class="feature-card">
                        <h3>🧠 核心技术优势</h3>
                        <p>基于 .NET 9 + Blazor + Semantic Kernel 构建，集成 Kernel Memory，支持多种大模型的集成与离线运行，兼容国产大模型和数据库。</p>
                    </div>
                    <div class="feature-card">
                        <h3>💼 企业应用场景</h3>
                        <p>适用于企业知识库、智能客服、教育辅助系统、研发创新助手等多种场景，提升工作效率和用户体验。</p>
                    </div>
                    <div class="feature-card">
                        <h3>🔧 完整生态系统</h3>
                        <p>提供知识库管理、GPTs生成、API接口、插件系统、Text2SQL等完整功能，满足企业级AI应用需求。</p>
                    </div>
                </div>
                
                <div style="background: linear-gradient(135deg, #48bb78 0%, #38a169 100%); color: white; padding: 25px; border-radius: 15px; margin-top: 30px; text-align: center;">
                    <h3 style="color: white; margin-bottom: 15px;">🎯 为什么选择 AntSK？</h3>
                    <p style="font-size: 1.1rem; margin-bottom: 20px;">本 PyAPI 项目是 AntSK 生态系统的重要组成部分，专门为 AntSK 主平台提供高性能的文本嵌入向量生成和文档重排序服务。</p>
                    <div style="display: flex; justify-content: center; flex-wrap: wrap; gap: 15px; margin-top: 20px;">
                        <div style="background: rgba(255,255,255,0.1); padding: 10px 20px; border-radius: 20px;">✅ 开源免费</div>
                        <div style="background: rgba(255,255,255,0.1); padding: 10px 20px; border-radius: 20px;">🔒 数据安全</div>
                        <div style="background: rgba(255,255,255,0.1); padding: 10px 20px; border-radius: 20px;">🚀 高性能</div>
                        <div style="background: rgba(255,255,255,0.1); padding: 10px 20px; border-radius: 20px;">🛠️ 易部署</div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script>
        // 导航栏滚动效果
        window.addEventListener('scroll', function() {
            const navbar = document.querySelector('.navbar');
            if (window.scrollY > 50) {
                navbar.classList.add('scrolled');
            } else {
                navbar.classList.remove('scrolled');
            }
        });

        // 动态加载API状态信息
        async function loadApiStatus() {
            const statusContainer = document.getElementById('service-status');
            const modelsContainer = document.getElementById('loaded-models');
            const configContainer = document.getElementById('service-config');

            if (!statusContainer || !modelsContainer || !configContainer) {
                return;
            }

            try {
                const healthResponse = await fetch('/health');
                const healthData = await healthResponse.json();
                statusContainer.innerHTML = `
                    <div style="color: #48bb78; font-weight: 600;">✅ 服务运行正常</div>
                    <div style="margin-top: 10px; color: var(--text-light);">状态: ${healthData.status}</div>
                `;
            } catch (error) {
                statusContainer.innerHTML = `
                    <div style="color: #e53e3e; font-weight: 600;">❌ 服务连接失败</div>
                    <div style="margin-top: 10px; color: var(--text-light);">请检查服务是否启动</div>
                `;
            }

            try {
                const modelsResponse = await fetch('/models');
                const modelsData = await modelsResponse.json();
                const modelsRaw = Array.isArray(modelsData.loaded_models)
                    ? modelsData.loaded_models
                    : Array.isArray(modelsData.data)
                        ? modelsData.data
                        : [];

                if (modelsRaw.length === 0) {
                    modelsContainer.innerHTML = `
                        <div style="color: var(--text-light);">暂未加载模型</div>
                    `;
                } else {
                    const modelsList = modelsRaw.map(model => {
                        const name = typeof model === 'string' ? model : (model.id ?? model.name ?? '未命名模型');
                        return `
                            <div style="background: var(--surface); padding: 10px 15px; border-radius: 8px; margin: 5px 0; border: 1px solid var(--border);">
                                <strong>${name}</strong>
                            </div>
                        `;
                    }).join('');
                    modelsContainer.innerHTML = modelsList;
                }
            } catch (error) {
                modelsContainer.innerHTML = `
                    <div style="color: var(--text-light);">无法获取模型列表</div>
                `;
            }

            try {
                const configResponse = await fetch('/config');
                const configData = await configResponse.json();
                const entries = Object.entries(configData || {});

                if (entries.length === 0) {
                    configContainer.innerHTML = `
                        <div style="color: var(--text-light);">未获取到配置信息</div>
                    `;
                } else {
                    const configInfo = entries.map(([key, value]) => `
                        <div style="background: var(--surface); padding: 10px 15px; border-radius: 8px; margin: 5px 0; border: 1px solid var(--border);">
                            <strong>${key}:</strong> ${value}
                        </div>
                    `).join('');
                    configContainer.innerHTML = configInfo;
                }
            } catch (error) {
                configContainer.innerHTML = `
                    <div style="color: var(--text-light);">无法获取配置信息</div>
                `;
            }
        }

        function setupOnlineTests() {
            const embeddingForm = document.getElementById('embedding-form');
            const rerankForm = document.getElementById('rerank-form');

            if (embeddingForm) {
                embeddingForm.addEventListener('submit', async (event) => {
                    event.preventDefault();
                    const model = (document.getElementById('embedding-model')?.value || '').trim();
                    const rawInput = document.getElementById('embedding-input')?.value || '';
                    const format = document.getElementById('embedding-format')?.value || 'float';
                    const resultBox = document.getElementById('embedding-result');
                    const submitButton = embeddingForm.querySelector('button[type="submit"]');

                    if (!resultBox || !submitButton) {
                        return;
                    }

                    const inputs = rawInput
                        .split('\n')
                        .map(line => line.trim())
                        .filter(Boolean);

                    if (inputs.length === 0) {
                        resultBox.textContent = '请输入需要生成向量的文本。';
                        return;
                    }

                    submitButton.disabled = true;
                    resultBox.textContent = '正在请求嵌入向量...';

                    try {
                        const response = await fetch('/v1/embeddings', {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json'
                            },
                            body: JSON.stringify({
                                model: model || 'BAAI/bge-base-zh-v1.5',
                                input: inputs,
                                encoding_format: format
                            })
                        });

                        const responseText = await response.text();
                        const data = responseText ? JSON.parse(responseText) : {};

                        if (!response.ok) {
                            const message = data.detail || response.statusText || '请求失败';
                            throw new Error(message);
                        }

                        resultBox.textContent = JSON.stringify(data, null, 2);
                    } catch (error) {
                        resultBox.textContent = `错误: ${error.message}`;
                    } finally {
                        submitButton.disabled = false;
                    }
                });
            }

            if (rerankForm) {
                rerankForm.addEventListener('submit', async (event) => {
                    event.preventDefault();
                    const model = (document.getElementById('rerank-model')?.value || '').trim();
                    const query = (document.getElementById('rerank-query')?.value || '').trim();
                    const rawDocs = document.getElementById('rerank-docs')?.value || '';
                    const topNValue = (document.getElementById('rerank-topn')?.value || '').trim();
                    const returnDocs = document.getElementById('rerank-return-docs')?.checked || false;
                    const resultBox = document.getElementById('rerank-result');
                    const submitButton = rerankForm.querySelector('button[type="submit"]');

                    if (!resultBox || !submitButton) {
                        return;
                    }

                    const documents = rawDocs
                        .split('\n')
                        .map(line => line.trim())
                        .filter(Boolean);

                    if (!query) {
                        resultBox.textContent = '请输入查询语句。';
                        return;
                    }

                    if (documents.length === 0) {
                        resultBox.textContent = '请至少提供一个候选文档。';
                        return;
                    }

                    submitButton.disabled = true;
                    resultBox.textContent = '正在请求重排序结果...';

                    const payload = {
                        model: model || 'BAAI/bge-reranker-v2-m3',
                        query,
                        documents,
                        return_documents: returnDocs
                    };

                    if (topNValue) {
                        const parsed = parseInt(topNValue, 10);
                        if (!Number.isNaN(parsed) && parsed > 0) {
                            payload.top_n = parsed;
                        }
                    }

                    try {
                        const response = await fetch('/v1/rerank', {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json'
                            },
                            body: JSON.stringify(payload)
                        });

                        const responseText = await response.text();
                        const data = responseText ? JSON.parse(responseText) : {};

                        if (!response.ok) {
                            const message = data.detail || response.statusText || '请求失败';
                            throw new Error(message);
                        }

                        resultBox.textContent = JSON.stringify(data, null, 2);
                    } catch (error) {
                        resultBox.textContent = `错误: ${error.message}`;
                    } finally {
                        submitButton.disabled = false;
                    }
                });
            }
        }

        // 页面加载完成后执行
        document.addEventListener('DOMContentLoaded', () => {
            loadApiStatus();
            setupOnlineTests();
        });
    </script>
</body>
</html>